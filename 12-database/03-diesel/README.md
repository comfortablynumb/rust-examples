# Diesel ORM

Type-safe ORM and query builder for Rust.

## Features

- Compile-time query validation
- Type-safe query builder
- Migration system
- Connection pooling
- Supports PostgreSQL, MySQL, SQLite

## Typical Workflow

1. **Install CLI**: `cargo install diesel_cli`
2. **Setup**: `diesel setup`
3. **Create Migration**: `diesel migration generate create_posts`
4. **Run Migration**: `diesel migration run`

## Key Concepts

### Schema Definition

```rust
// Generated by diesel_cli in src/schema.rs
table! {
    posts (id) {
        id -> Integer,
        title -> Text,
        published -> Bool,
    }
}
```

### Models

```rust
#[derive(Queryable, Selectable)]
#[diesel(table_name = posts)]
struct Post {
    pub id: i32,
    pub title: String,
}

#[derive(Insertable)]
#[diesel(table_name = posts)]
struct NewPost {
    pub title: String,
}
```

### Queries

```rust
// Select all
let posts = posts::table.load::<Post>(&mut conn)?;

// Filter
let published = posts::table
    .filter(posts::published.eq(true))
    .load::<Post>(&mut conn)?;

// Insert
diesel::insert_into(posts::table)
    .values(&new_post)
    .execute(&mut conn)?;

// Update
diesel::update(posts::table.find(id))
    .set(posts::title.eq("New Title"))
    .execute(&mut conn)?;

// Delete
diesel::delete(posts::table.find(id))
    .execute(&mut conn)?;
```

## Running

```bash
cargo run
```

## References

- [Diesel Documentation](https://diesel.rs/)
- [Diesel Getting Started](https://diesel.rs/guides/getting-started)
